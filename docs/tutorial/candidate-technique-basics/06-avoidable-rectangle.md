---
description: Avoidable Rectangle
---

# 可规避矩形（AR）

## 类型 1 <a href="#type-1" id="type-1"></a>

<figure><img src="../.gitbook/assets/image (5).png" alt="" width="375"><figcaption><p>类型 1</p></figcaption></figure>

如图所示。我们仍旧关注于唯一矩形那种摆放形式的四个单元格，不过这次我们不看空格，而是把视角聚焦于填入数里。

这次，`r78c59` 里其中三个单元格都填了数字 4 或 9，只有一个是空格。假设我们让 `r7c9 = 4`，则我们会发现四个单元格已经填成 4 和 9 的类似唯一矩形的矛盾填数状态。不过，这次是已经填好了数字，那么它能否出现矛盾呢？

实际上也是可以的。我们之前在残缺的那一讲内容里提到过，残缺的唯一矩形不影响推理，因为实际缺少的候选数由于唯一矩形的摆放方式，是可以补回去的，它不外乎是提前被我们删除掉了而已。而对于上面给的这个题而言，虽然它已经填上数字，而它由于是填入数的关系，它自始至终都不是题目最开始就拥有的数字，因此这几个单元格你仍旧可以当成空格，只是说空格是唯一余数，比如说我们可以将 `r7c5 = 9` 看作是 `r7c5` 仅有 9 这一个候选数，这个意思。

当有了这层铺垫后，我们就可以填回原本去掉的候选数了。例如，`r7c5(4)` 在题目最开始的时候也是存在的，我们仍旧可以补回去；而 `r8c5` 和 `r8c9` 同理。当补回候选数后，这个结构就恢复回了一个标准版的唯一矩形。

因为要规避矛盾，所以 `r7c9 <> 4` 此时就成立。因此，就算是填入数的状态下，这个结论仍旧成立。

我们把这种使用填入数而非空格的唯一矩形推理思路称为**可规避矩形**（Avoidable Rectangle，简称 AR）。它和唯一矩形同源，但因为长相比较特殊所以有它自己单独的技巧名称。

由于它恢复候选数后可转换回唯一矩形的类型 1，因此我们把这个结构称为可规避矩形的类型 1。

下面我们来看看可规避矩形的其他类型。

## 类型 2 <a href="#type-2" id="type-2"></a>

<figure><img src="../.gitbook/assets/image (1) (1).png" alt="" width="375"><figcaption><p>类型 2</p></figcaption></figure>

如图所示。这次我们使用的是单元格 `r15c23`，其中有两个单元格已经有填数。

显然，`r1c23(7)` 不能同时从盘面里消失，否则它俩会变为唯一余数，然后形成矛盾，因此这两个橘色的 7 将会形成区块结构，于是，所在宫和所在行的其他单元格都不能填入第二次 7 了，所以这个题的结论就是 `{r1c89, r2c23} <> 7`。

我们把这个结构称为类型 2。因为它在补回候选数后类似于唯一矩形的类型 2（区块类型）。

## 类型 3 <a href="#type-3" id="type-3"></a>

<figure><img src="../.gitbook/assets/image (2) (1).png" alt="" width="375"><figcaption><p>类型 3</p></figcaption></figure>

如图所示。如果我们让 `r89c9` 里所有三个橘色的候选数全部从盘面里消失的话，`r89c59` 将会形成矛盾。而由于所在宫里有一个单元格 `r8c8` 只有橘色的 1 和 4 这两种候选数，因此在 `r89c9` 里必须要拿出一个单元格与之配对形成显性数对，于是乎我们就知道，这个宫里其余的单元格就没有机会填入 1 或 4 了。因此这个题的结论就是 `r7c9 <> 4`。

我们把这个用法称为类型 3。我们再来看一个例子。

<figure><img src="../.gitbook/assets/image (3) (1).png" alt="" width="375"><figcaption><p>类型 3，另外一个例子</p></figcaption></figure>

如图所示。这个题就自己推理了吧。

## 类型 5 <a href="#type-5" id="type-5"></a>

接下来我们直接跳过类型 4，来看类型 5。原因我一会儿再说。

<figure><img src="../.gitbook/assets/image (4) (1).png" alt="" width="375"><figcaption><p>类型 5</p></figcaption></figure>

如图所示。这个长相怪异的结构是类型 5。

如果我们让 `r3c7` 和 `r5c9` 里的候选数 3 同时从盘面里消失，那么就会直接得到 `r3c7` 和 `r5c9` 填 9 的结论，于是，`r5c7` 就只能填 7，于是四个单元格 `r35c79` 就会形成矛盾。

所以，`r3c7` 和 `r5c9` 里的候选数 3 至少有一个是正确的填数。那么使用类似 XY-Wing 的删数逻辑，我们可以得到 `r1c9` 和 `r6c7` 是可以同时影响到这两个 3 的位置，于是这个题的结论就是 `{r1c9, r6c7} <> 3` 了。

## 隐性可规避矩形（Hidden Avoidable Rectangle） <a href="#hidden-avoidable-rectangle" id="hidden-avoidable-rectangle"></a>

和前面一样，我们跳过类型 6，直接来看可规避矩形版本的隐性唯一矩形。

<figure><img src="../.gitbook/assets/image (5) (1).png" alt="" width="375"><figcaption><p>隐性可规避矩形</p></figcaption></figure>

如图所示。我们可以看到，图中 `r2` 和 `c4` 都存在 4 的共轭对。所以，和隐性唯一矩形一样，我们按摆放分两种情况进行讨论。

* 如果 `r2c4 = 4`，则因为 `r2c4` 占位可以得到 `r2c4 <> 8`；
* 如果 `r2c1` 和 `r3c4` 同时填 4，则为了规避出现矛盾，`r2c4 <> 8` 也是成立的。

所以，我们有 `r2c4 <> 8` 的结论。我们把这个用法称为**隐性可规避矩形**（Hidden Avoidable Rectangle，简称 HAR）。

## 为什么不讲类型 4、6？

下面我们把话题回到前面漏掉的类型 4、6。为什么跳过了他们？

原因其实很简单：因为不存在。可规避矩形的世界里并不存在类型 4 和类型 6。你可以试着把类型 4、6 的共轭对标注出来，然后试着看看它的可规避矩形版本，填入数都可以放在哪里。

对于类型 4 而言，因为其中有两个单元格需要使用共轭对，所以它俩是不能有填入数的存在的。所以填入数只能放在剩下的两个单元格里。但是，一旦放进去之后，另外一边因为数对的关系很容易确定下来。假设这两个填数是 $$a$$ 和 $$b$$，那么根据类型 4，共轭对用到的数字也必须是 $$a$$ 或 $$b$$ 的其中一个。但是因为填数已经填有 $$a$$ 和 $$b$$，所以我们无论如何都构造不出这个共轭对（共轭对的单元格一定和这两个填数的位置是同行列的）。所以，类型 4 在可规避矩形的世界里并不存在。

而对于类型 6 而言就更容易说明清楚了：因为类型 6 四个单元格都会被两个共轭对占用，所以根本无法往里放入任何的填入数。所以，类型 6 也不存在可规避矩形的版本。
